<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: reducers/store.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: reducers/store.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { configureStore } from "@reduxjs/toolkit";
import authReducer from "./slices/authSlice";
import cartReducer from "./slices/cartSlice";
import storage from "redux-persist/lib/storage";
import { persistReducer, persistStore } from "redux-persist";
import apigBaseUrlReducer from "./apigBaseUrl";

/**
 * Configuration for redux-persist to handle storage mechanisms.
 *
 * It determines how the state should be persisted in the local storage of the browser.
 * The key 'root' is used as the storage key prefix for the persisted state.
 *
 * @type {Object}
 */

const persistConfig = {
  key: "root",
  storage,
};

/**
 * A persisted reducer for the cart slice.
 *
 * Using redux-persist, the cart slice's state is persisted across browser sessions.
 * This allows the cart's state to be rehydrated on app restarts, maintaining the cart contents.
 *
 * @type {Reducer}
 */
const persistedReducer = persistReducer(persistConfig, cartReducer);

/**
 * Configures and creates the Redux store.
 *
 * The store integrates different slices of the application state, applying middleware for side effects,
 * and sets up persistence for the cart slice. The auth, cart, and API base URL slices are combined here.
 *
 * The middleware is customized to disable serializable checks, which is useful for certain types of middleware/actions.
 *
 * @returns {Store} A Redux store configured with reducers, middleware, and persistence capabilities.
 */
const store = configureStore({
  reducer: {
    auth: authReducer,
    cart: persistedReducer,
    apigBaseUrl: apigBaseUrlReducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: false,
    }),
});

/**
 * The persistor for the Redux store.
 *
 * It is responsible for initiating the rehydration process of the persisted state
 * from the local storage into the Redux store upon application startup.
 *
 * @type {Persistor}
 */
export const persistor = persistStore(store);

export default store;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html"></a></li><li><a href="global.html#AccountDetails">AccountDetails</a></li><li><a href="global.html#CartDrawer">CartDrawer</a></li><li><a href="global.html#CartItem">CartItem</a></li><li><a href="global.html#CustomModal">CustomModal</a></li><li><a href="global.html#Navbar">Navbar</a></li><li><a href="global.html#SellerGuard">SellerGuard</a></li><li><a href="global.html#cartSlice">cartSlice</a></li><li><a href="global.html#initialState">initialState</a></li><li><a href="global.html#persistConfig">persistConfig</a></li><li><a href="global.html#persistedReducer">persistedReducer</a></li><li><a href="global.html#persistor">persistor</a></li><li><a href="global.html#store">store</a></li><li><a href="global.html#useAuth">useAuth</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu Apr 11 2024 15:53:51 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
